PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX disco: <http://rdf-vocabulary.ddialliance.org/discovery#> PREFIX dcterms: <http://purl.org/dc/terms/> PREFIX skos: <http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?questiontext WHERE { ?variable a disco:Variable ; skos:notation ?variableNotation ; disco:question [ a disco:Question ; disco:questionText ?questiontext ] ; disco:concept [  a skos:Concept ; skos:notation ?conceptNotation ; skos:broader ?parent1 ] . FILTER ( regex( ?conceptNotation, '.*age.*' ) ) { ?parent1 a skos:Concept ; skos:notation ?parent1Notation . OPTIONAL { ?parent1 skos:broader ?parent2 . ?parent2 a skos:Concept ; skos:notation ?parent2Notation . } OPTIONAL { ?parent2 skos:broader ?parent3 . ?parent3 a skos:Concept ; skos:notation ?parent3Notation . } . FILTER ( regex( ?parent1Notation, '.*Income.*' ) || regex ( ?parent2Notation, '.*Income.*' ) || regex ( ?parent3Notation, '.*Income.*' ) ) } }
